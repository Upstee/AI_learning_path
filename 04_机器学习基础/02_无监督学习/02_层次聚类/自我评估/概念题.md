# 层次聚类 - 概念题

## 一、选择题（每题2分，共20分）

### 1. 层次聚类的主要类型是？
A. 凝聚式和分裂式  
B. 单链接和完全链接  
C. 平均链接和质心链接  
D. 自上而下和自下而上  

**答案**：A

**解释**：⚠️【详细解释】层次聚类有两种主要类型：凝聚式（自底向上）和分裂式（自顶向下），凝聚式更常用。

---

### 2. 单链接（Single Linkage）计算的是？
A. 两个簇中最远样本的距离  
B. 两个簇中最近样本的距离  
C. 两个簇的平均距离  
D. 两个簇的质心距离  

**答案**：B

**解释**：⚠️【详细解释】单链接计算两个簇中最近的一对样本之间的距离，容易产生链式效应。

---

### 3. 完全链接（Complete Linkage）计算的是？
A. 两个簇中最远样本的距离  
B. 两个簇中最近样本的距离  
C. 两个簇的平均距离  
D. 两个簇的质心距离  

**答案**：A

**解释**：⚠️【详细解释】完全链接计算两个簇中最远的一对样本之间的距离，产生紧凑的簇。

---

### 4. 树状图（Dendrogram）的高度表示？
A. 样本数量  
B. 簇的数量  
C. 合并时的距离  
D. 样本的索引  

**答案**：C

**解释**：⚠️【详细解释】树状图的高度表示合并时的距离，距离越大，簇越不相似。

---

### 5. 层次聚类的时间复杂度是？
A. O(N)  
B. O(N²)  
C. O(N³)  
D. O(N log N)  

**答案**：C

**解释**：⚠️【详细解释】层次聚类需要计算距离矩阵O(N²)，然后进行N-1次合并，每次O(N²)，总复杂度O(N³)。

---

### 6. 层次聚类的主要优点不包括？
A. 不需要指定K值  
B. 提供层次结构  
C. 计算快速  
D. 可视化直观  

**答案**：C

**解释**：⚠️【详细解释】层次聚类计算复杂度高，不适合大规模数据，这是它的缺点。

---

### 7. 从树状图选择K值的方法是？
A. 在任意高度切割  
B. 在距离变化大的地方切割  
C. 在距离变化小的地方切割  
D. 在树状图的底部切割  

**答案**：B

**解释**：⚠️【详细解释】在距离变化大的地方切割，表示簇之间的差异明显，这是合理的切割点。

---

### 8. Ward链接的目标是？
A. 最小化簇间距离  
B. 最小化簇内方差  
C. 最大化簇间距离  
D. 最大化簇内方差  

**答案**：B

**解释**：⚠️【详细解释】Ward链接最小化簇内方差，适合球形簇，只能用于欧氏距离。

---

### 9. 层次聚类适合？
A. 大规模数据  
B. 小规模数据  
C. 高维数据  
D. 低维数据  

**答案**：B

**解释**：⚠️【详细解释】层次聚类计算复杂度高，适合小规模数据（通常<1000个样本）。

---

### 10. 平均链接（Average Linkage）计算的是？
A. 两个簇中最远样本的距离  
B. 两个簇中最近样本的距离  
C. 两个簇中所有样本对距离的平均值  
D. 两个簇的质心距离  

**答案**：C

**解释**：⚠️【详细解释】平均链接计算两个簇中所有样本对距离的平均值，平衡单链接和完全链接。

---

## 二、简答题（每题10分，共40分）

### 1. 解释凝聚式层次聚类的算法流程。

**参考答案**：
- **初始化**：每个样本作为一个簇
- **计算距离**：计算所有簇之间的距离
- **合并**：合并距离最近的两个簇
- **更新**：更新簇间距离矩阵
- **重复**：重复合并步骤，直到只剩一个簇
- **结果**：形成层次树，可以在不同层次选择簇数

---

### 2. 说明不同链接方法的区别和适用场景。

**参考答案**：
- **单链接**：
  - 计算最近距离
  - 容易产生链式效应
  - 适合发现细长的簇
  
- **完全链接**：
  - 计算最远距离
  - 产生紧凑的簇
  - 适合发现球形的簇
  
- **平均链接**：
  - 计算平均距离
  - 平衡单链接和完全链接
  - 常用，适合大多数场景
  
- **Ward链接**：
  - 最小化簇内方差
  - 适合球形簇
  - 只能用于欧氏距离

---

### 3. 解释如何从树状图选择K值。

**参考答案**：
- **观察树状图**：找到距离变化大的地方
- **切割点**：在距离变化大的地方切割
- **簇数**：切割点的高度对应簇数
- **验证**：可以尝试不同的切割点，选择合理的簇数
- **方法**：可以使用距离阈值或直接指定簇数

---

### 4. 说明层次聚类的优缺点。

**参考答案**：
- **优点**：
  1. 不需要指定K值，可以从树状图选择
  2. 提供层次结构，帮助理解数据
  3. 可视化直观，树状图容易理解
  4. 可以处理任意形状的簇
  
- **缺点**：
  1. 计算复杂度高，O(N³)
  2. 不适合大规模数据
  3. 对噪声敏感
  4. 内存占用大（需要存储距离矩阵）
  5. 一旦合并不能撤销

---

## 三、计算题（每题10分，共20分）

### 1. 给定以下数据，使用单链接进行第一轮合并：

样本：
- 样本1：(1, 1)
- 样本2：(2, 2)
- 样本3：(5, 5)
- 样本4：(6, 6)

使用欧氏距离，计算应该合并哪两个样本。

**参考答案**：
- 计算所有样本对的距离：
  - d(1,2) = √((1-2)²+(1-2)²) = √2 ≈ 1.41
  - d(1,3) = √((1-5)²+(1-5)²) = √32 ≈ 5.66
  - d(1,4) = √((1-6)²+(1-6)²) = √50 ≈ 7.07
  - d(2,3) = √((2-5)²+(2-5)²) = √18 ≈ 4.24
  - d(2,4) = √((2-6)²+(2-6)²) = √32 ≈ 5.66
  - d(3,4) = √((5-6)²+(5-6)²) = √2 ≈ 1.41
  
- 最近距离：d(1,2) = d(3,4) = 1.41
- **合并**：样本1和2，或样本3和4（距离相同，选择第一个）

---

### 2. 给定两个簇，计算平均链接距离：

簇1：样本A(1,1), 样本B(2,2)
簇2：样本C(5,5), 样本D(6,6)

使用欧氏距离。

**参考答案**：
- 计算所有样本对的距离：
  - d(A,C) = √((1-5)²+(1-5)²) = √32 ≈ 5.66
  - d(A,D) = √((1-6)²+(1-6)²) = √50 ≈ 7.07
  - d(B,C) = √((2-5)²+(2-5)²) = √18 ≈ 4.24
  - d(B,D) = √((2-6)²+(2-6)²) = √32 ≈ 5.66
  
- 平均距离 = (5.66 + 7.07 + 4.24 + 5.66) / 4 = 22.63 / 4 ≈ 5.66

---

## 评分标准

- **选择题**：每题2分，共20分
- **简答题**：每题10分，共40分
- **计算题**：每题10分，共20分
- **总分**：80分
- **及格线**：64分（80%）

---

**完成后请对照答案检查，理解每道题的原理！**


# å¼‚å¸¸æ£€æµ‹

## 1. è¯¾ç¨‹æ¦‚è¿°

### è¯¾ç¨‹ç›®æ ‡
1. ç†è§£å¼‚å¸¸æ£€æµ‹çš„åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨åœºæ™¯
2. æŒæ¡åŸºäºç»Ÿè®¡çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•ï¼ˆZ-scoreã€IQRã€3ÏƒåŸåˆ™ï¼‰
3. æŒæ¡åŸºäºå¯†åº¦çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•ï¼ˆDBSCANã€LOFï¼‰
4. æŒæ¡åŸºäºæœºå™¨å­¦ä¹ çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•ï¼ˆIsolation Forestã€One-Class SVMï¼‰
5. èƒ½å¤Ÿè¯„ä¼°å¼‚å¸¸æ£€æµ‹æ¨¡å‹çš„æ€§èƒ½
6. èƒ½å¤Ÿåº”ç”¨å¼‚å¸¸æ£€æµ‹è§£å†³å®é™…é—®é¢˜

### é¢„è®¡å­¦ä¹ æ—¶é—´
- **ç†è®ºå­¦ä¹ **ï¼š8-10å°æ—¶
- **ä»£ç å®è·µ**ï¼š10-12å°æ—¶
- **ç»ƒä¹ å·©å›º**ï¼š8-10å°æ—¶
- **æ€»è®¡**ï¼š26-32å°æ—¶ï¼ˆçº¦3-4å‘¨ï¼‰

### éš¾åº¦ç­‰çº§
- **ä¸­ç­‰åä¸Š** - éœ€è¦ç†è§£å¤šç§æ£€æµ‹æ–¹æ³•

### è¯¾ç¨‹å®šä½
- **å‰ç½®è¯¾ç¨‹**ï¼š02_æ•°å­¦åŸºç¡€ï¼ˆæ¦‚ç‡ç»Ÿè®¡ï¼‰ã€03_DBSCANã€04_PCA
- **åç»­è¯¾ç¨‹**ï¼š07_é™ç»´æŠ€æœ¯
- **åœ¨ä½“ç³»ä¸­çš„ä½ç½®**ï¼šé‡è¦çš„æ— ç›‘ç£å­¦ä¹ åº”ç”¨ï¼Œå¹¿æ³›åº”ç”¨äºå®‰å…¨ã€é‡‘èç­‰é¢†åŸŸ

### å­¦å®Œèƒ½åšä»€ä¹ˆ
- èƒ½å¤Ÿç†è§£å’Œä½¿ç”¨å¤šç§å¼‚å¸¸æ£€æµ‹æ–¹æ³•
- èƒ½å¤Ÿé€‰æ‹©åˆé€‚çš„å¼‚å¸¸æ£€æµ‹ç®—æ³•
- èƒ½å¤Ÿè¯„ä¼°å¼‚å¸¸æ£€æµ‹æ€§èƒ½
- èƒ½å¤Ÿåº”ç”¨å¼‚å¸¸æ£€æµ‹è§£å†³å®é™…é—®é¢˜ï¼ˆæ¬ºè¯ˆæ£€æµ‹ã€å…¥ä¾µæ£€æµ‹ç­‰ï¼‰

---

## 2. å‰ç½®çŸ¥è¯†æ£€æŸ¥

### å¿…å¤‡å‰ç½®æ¦‚å¿µæ¸…å•
- **æ¦‚ç‡ç»Ÿè®¡**ï¼šæ­£æ€åˆ†å¸ƒã€Z-scoreã€åˆ†ä½æ•°
- **DBSCAN**ï¼šåŸºäºå¯†åº¦çš„èšç±»
- **PCA**ï¼šé™ç»´æ–¹æ³•
- **NumPyã€Pandas**ï¼šæ•°æ®å¤„ç†

### å›é¡¾é“¾æ¥/è·³è½¬
- å¦‚æœä¸ç†Ÿæ‚‰ç»Ÿè®¡æ–¹æ³•ï¼š`02_æ•°å­¦åŸºç¡€/02_æ¦‚ç‡ç»Ÿè®¡/`
- å¦‚æœä¸ç†Ÿæ‚‰DBSCANï¼š`04_æœºå™¨å­¦ä¹ åŸºç¡€/02_æ— ç›‘ç£å­¦ä¹ /03_DBSCAN/`
- å¦‚æœä¸ç†Ÿæ‚‰PCAï¼š`04_æœºå™¨å­¦ä¹ åŸºç¡€/02_æ— ç›‘ç£å­¦ä¹ /04_PCA/`

### å…¥é—¨å°æµ‹

**é€‰æ‹©é¢˜**ï¼ˆæ¯é¢˜2åˆ†ï¼Œå…±10åˆ†ï¼‰

1. å¼‚å¸¸æ£€æµ‹çš„ä¸»è¦ç›®çš„æ˜¯ï¼Ÿ
   A. åˆ†ç±»  B. å›å½’  C. è¯†åˆ«å¼‚å¸¸ç‚¹  D. èšç±»
   **ç­”æ¡ˆ**ï¼šC

2. åŸºäºç»Ÿè®¡çš„å¼‚å¸¸æ£€æµ‹å‡è®¾æ•°æ®æœä»ï¼Ÿ
   A. å‡åŒ€åˆ†å¸ƒ  B. æ­£æ€åˆ†å¸ƒ  C. æŒ‡æ•°åˆ†å¸ƒ  D. ä»»æ„åˆ†å¸ƒ
   **ç­”æ¡ˆ**ï¼šB

3. Isolation Forestçš„ä¸»è¦æ€æƒ³æ˜¯ï¼Ÿ
   A. åŸºäºå¯†åº¦  B. åŸºäºè·ç¦»  C. åŸºäºéš”ç¦»  D. åŸºäºç»Ÿè®¡
   **ç­”æ¡ˆ**ï¼šC

4. å¼‚å¸¸æ£€æµ‹çš„è¯„ä¼°æŒ‡æ ‡é€šå¸¸ä¸åŒ…æ‹¬ï¼Ÿ
   A. ç²¾ç¡®ç‡  B. å¬å›ç‡  C. F1åˆ†æ•°  D. å‡†ç¡®ç‡
   **ç­”æ¡ˆ**ï¼šDï¼ˆå¼‚å¸¸æ£€æµ‹é€šå¸¸ç±»åˆ«ä¸å¹³è¡¡ï¼Œå‡†ç¡®ç‡ä¸é€‚ç”¨ï¼‰

5. LOFï¼ˆLocal Outlier Factorï¼‰æ˜¯åŸºäºï¼Ÿ
   A. å…¨å±€å¯†åº¦  B. å±€éƒ¨å¯†åº¦  C. è·ç¦»  D. ç»Ÿè®¡
   **ç­”æ¡ˆ**ï¼šB

**è¯„åˆ†æ ‡å‡†**ï¼šâ‰¥8åˆ†ï¼ˆ80%ï¼‰ä¸ºé€šè¿‡

---

## 3. æ ¸å¿ƒçŸ¥è¯†ç‚¹è¯¦è§£

### 3.1 å¼‚å¸¸æ£€æµ‹æ¦‚è¿°

#### æ¦‚å¿µå¼•å…¥

**å¼‚å¸¸ï¼ˆAnomaly/Outlierï¼‰**ï¼šä¸å¤§å¤šæ•°æ•°æ®æ˜¾è‘—ä¸åŒçš„æ•°æ®ç‚¹ã€‚

**åº”ç”¨åœºæ™¯**ï¼š
- æ¬ºè¯ˆæ£€æµ‹ï¼šä¿¡ç”¨å¡æ¬ºè¯ˆã€ä¿é™©æ¬ºè¯ˆ
- å…¥ä¾µæ£€æµ‹ï¼šç½‘ç»œå…¥ä¾µã€ç³»ç»Ÿå¼‚å¸¸
- è´¨é‡æ§åˆ¶ï¼šäº§å“ç¼ºé™·æ£€æµ‹
- åŒ»ç–—è¯Šæ–­ï¼šç–¾ç—…æ£€æµ‹

#### å¼‚å¸¸ç±»å‹

1. **ç‚¹å¼‚å¸¸**ï¼šå•ä¸ªæ•°æ®ç‚¹å¼‚å¸¸
2. **ä¸Šä¸‹æ–‡å¼‚å¸¸**ï¼šåœ¨ç‰¹å®šä¸Šä¸‹æ–‡ä¸­å¼‚å¸¸
3. **é›†ä½“å¼‚å¸¸**ï¼šä¸€ç»„æ•°æ®ç‚¹æ•´ä½“å¼‚å¸¸

---

### 3.2 åŸºäºç»Ÿè®¡çš„æ–¹æ³•

#### Z-scoreæ–¹æ³•

**åŸç†**ï¼šå‡è®¾æ•°æ®æœä»æ­£æ€åˆ†å¸ƒï¼Œè®¡ç®—Z-scoreï¼š
$$Z = \frac{x - \mu}{\sigma}$$

**é˜ˆå€¼**ï¼šé€šå¸¸|Z| > 3ä¸ºå¼‚å¸¸

#### IQRæ–¹æ³•

**åŸç†**ï¼šä½¿ç”¨å››åˆ†ä½è·ï¼ˆIQRï¼‰ï¼š
$$IQR = Q_3 - Q_1$$

**é˜ˆå€¼**ï¼šè¶…å‡º[Qâ‚ - 1.5Ã—IQR, Qâ‚ƒ + 1.5Ã—IQR]ä¸ºå¼‚å¸¸

#### 3ÏƒåŸåˆ™

**åŸç†**ï¼šåœ¨æ­£æ€åˆ†å¸ƒä¸­ï¼Œ99.7%çš„æ•°æ®åœ¨3ÏƒèŒƒå›´å†…

**é˜ˆå€¼**ï¼šè¶…å‡ºÎ¼ Â± 3Ïƒä¸ºå¼‚å¸¸

---

### 3.3 åŸºäºå¯†åº¦çš„æ–¹æ³•

#### DBSCANå¼‚å¸¸æ£€æµ‹

**åŸç†**ï¼šä½¿ç”¨DBSCANï¼Œå™ªå£°ç‚¹å³ä¸ºå¼‚å¸¸ç‚¹

**ä¼˜ç‚¹**ï¼šèƒ½å‘ç°ä»»æ„å½¢çŠ¶çš„å¼‚å¸¸

#### LOFï¼ˆLocal Outlier Factorï¼‰

**åŸç†**ï¼šè®¡ç®—å±€éƒ¨å¼‚å¸¸å› å­ï¼Œè¡¡é‡ç‚¹çš„å±€éƒ¨å¯†åº¦

**å…¬å¼**ï¼š
$$LOF_k(p) = \frac{\sum_{o \in N_k(p)} \frac{lrd_k(o)}{lrd_k(p)}}{|N_k(p)|}$$

å…¶ä¸­lrdæ˜¯å±€éƒ¨å¯è¾¾å¯†åº¦ã€‚

---

### 3.4 åŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•

#### Isolation Forest

**åŸç†**ï¼šå¼‚å¸¸ç‚¹æ›´å®¹æ˜“è¢«éš”ç¦»ï¼ˆéœ€è¦æ›´å°‘çš„åˆ‡åˆ†ï¼‰

**ç®—æ³•**ï¼š
1. éšæœºé€‰æ‹©ç‰¹å¾å’Œåˆ‡åˆ†å€¼
2. æ„å»ºéš”ç¦»æ ‘
3. è®¡ç®—å¼‚å¸¸åˆ†æ•°ï¼ˆè·¯å¾„é•¿åº¦ï¼‰

#### One-Class SVM

**åŸç†**ï¼šå­¦ä¹ æ­£å¸¸æ•°æ®çš„è¾¹ç•Œï¼Œè¾¹ç•Œå¤–çš„ä¸ºå¼‚å¸¸

---

## 4. Pythonä»£ç å®è·µ

### 4.1 åŸºäºç»Ÿè®¡çš„æ–¹æ³•

```python
import numpy as np
import pandas as pd
import matplotlib.pyplot as plt
from scipy import stats

def z_score_anomaly_detection(data, threshold=3):
    """Z-scoreå¼‚å¸¸æ£€æµ‹"""
    z_scores = np.abs(stats.zscore(data))
    anomalies = z_scores > threshold
    return anomalies

def iqr_anomaly_detection(data):
    """IQRå¼‚å¸¸æ£€æµ‹"""
    Q1 = np.percentile(data, 25)
    Q3 = np.percentile(data, 75)
    IQR = Q3 - Q1
    lower_bound = Q1 - 1.5 * IQR
    upper_bound = Q3 + 1.5 * IQR
    anomalies = (data < lower_bound) | (data > upper_bound)
    return anomalies

# ä½¿ç”¨ç¤ºä¾‹
data = np.random.randn(1000)
data[100:110] = 10  # æ·»åŠ å¼‚å¸¸å€¼

anomalies_z = z_score_anomaly_detection(data)
anomalies_iqr = iqr_anomaly_detection(data)

plt.figure(figsize=(12, 5))
plt.subplot(1, 2, 1)
plt.scatter(range(len(data)), data, c=anomalies_z, cmap='RdYlGn')
plt.title('Z-scoreå¼‚å¸¸æ£€æµ‹')
plt.subplot(1, 2, 2)
plt.scatter(range(len(data)), data, c=anomalies_iqr, cmap='RdYlGn')
plt.title('IQRå¼‚å¸¸æ£€æµ‹')
plt.show()
```

---

### 4.2 åŸºäºå¯†åº¦çš„æ–¹æ³•

```python
from sklearn.cluster import DBSCAN
from sklearn.neighbors import LocalOutlierFactor

# DBSCANå¼‚å¸¸æ£€æµ‹
dbscan = DBSCAN(eps=0.5, min_samples=5)
labels = dbscan.fit_predict(X)
anomalies_dbscan = labels == -1

# LOFå¼‚å¸¸æ£€æµ‹
lof = LocalOutlierFactor(n_neighbors=20, contamination=0.1)
anomalies_lof = lof.fit_predict(X) == -1
```

---

### 4.3 åŸºäºæœºå™¨å­¦ä¹ çš„æ–¹æ³•

```python
from sklearn.ensemble import IsolationForest
from sklearn.svm import OneClassSVM

# Isolation Forest
iso_forest = IsolationForest(contamination=0.1, random_state=42)
anomalies_iso = iso_forest.fit_predict(X) == -1

# One-Class SVM
oc_svm = OneClassSVM(nu=0.1, kernel='rbf')
anomalies_svm = oc_svm.fit_predict(X) == -1
```

---

## 5. åŠ¨æ‰‹ç»ƒä¹ ï¼ˆåˆ†å±‚æ¬¡ï¼‰

### åŸºç¡€ç»ƒä¹ ï¼ˆ3-5é¢˜ï¼‰âš ï¸ã€å¿…é¡»è‡³å°‘3é¢˜ï¼Œéš¾åº¦é€’å¢ã€‘

#### ç»ƒä¹ 1ï¼šå®ç°Z-scoreå’ŒIQRå¼‚å¸¸æ£€æµ‹
**ç›®æ ‡**ï¼šä»é›¶å®ç°åŸºäºç»Ÿè®¡çš„å¼‚å¸¸æ£€æµ‹æ–¹æ³•

**è¦æ±‚**ï¼š
1. å®ç°Z-scoreæ–¹æ³•
2. å®ç°IQRæ–¹æ³•
3. åœ¨æ¨¡æ‹Ÿæ•°æ®ä¸Šæµ‹è¯•
4. å¯è§†åŒ–ç»“æœ

**éš¾åº¦**ï¼šâ­â­

---

#### ç»ƒä¹ 2ï¼šä½¿ç”¨DBSCANè¿›è¡Œå¼‚å¸¸æ£€æµ‹
**ç›®æ ‡**ï¼šä½¿ç”¨DBSCANè¯†åˆ«å¼‚å¸¸ç‚¹

**è¦æ±‚**ï¼š
1. ä½¿ç”¨DBSCANèšç±»
2. è¯†åˆ«å™ªå£°ç‚¹ï¼ˆå¼‚å¸¸ç‚¹ï¼‰
3. å¯è§†åŒ–ç»“æœ
4. åˆ†æå‚æ•°å½±å“

**éš¾åº¦**ï¼šâ­â­

---

#### ç»ƒä¹ 3ï¼šä½¿ç”¨Isolation Forestè¿›è¡Œå¼‚å¸¸æ£€æµ‹
**ç›®æ ‡**ï¼šä½¿ç”¨Isolation Forestè¿›è¡Œå¼‚å¸¸æ£€æµ‹

**è¦æ±‚**ï¼š
1. ä½¿ç”¨Isolation Forest
2. è°ƒæ•´contaminationå‚æ•°
3. è¯„ä¼°æ€§èƒ½
4. å¯è§†åŒ–ç»“æœ

**éš¾åº¦**ï¼šâ­â­â­

---

### è¿›é˜¶ç»ƒä¹ ï¼ˆ2-3é¢˜ï¼‰âš ï¸ã€å¿…é¡»è‡³å°‘2é¢˜ï¼Œéš¾åº¦é€’å¢ã€‘

#### ç»ƒä¹ 1ï¼šå¤šæ–¹æ³•å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿ
**ç›®æ ‡**ï¼šå®ç°å¤šç§å¼‚å¸¸æ£€æµ‹æ–¹æ³•ï¼Œå¹¶æ¯”è¾ƒæ€§èƒ½

**è¦æ±‚**ï¼š
1. å®ç°è‡³å°‘3ç§æ–¹æ³•
2. åœ¨ç›¸åŒæ•°æ®é›†ä¸Šæµ‹è¯•
3. æ¯”è¾ƒæ€§èƒ½ï¼ˆç²¾ç¡®ç‡ã€å¬å›ç‡ã€F1ï¼‰
4. åˆ†æå„æ–¹æ³•çš„ä¼˜ç¼ºç‚¹

**éš¾åº¦**ï¼šâ­â­â­â­

---

#### ç»ƒä¹ 2ï¼šé«˜ç»´æ•°æ®å¼‚å¸¸æ£€æµ‹
**ç›®æ ‡**ï¼šå¤„ç†é«˜ç»´æ•°æ®çš„å¼‚å¸¸æ£€æµ‹

**è¦æ±‚**ï¼š
1. ä½¿ç”¨PCAé™ç»´
2. åœ¨é™ç»´åçš„æ•°æ®ä¸Šæ£€æµ‹å¼‚å¸¸
3. æ¯”è¾ƒé™ç»´å‰åçš„æ•ˆæœ
4. åˆ†æç»´åº¦å¯¹å¼‚å¸¸æ£€æµ‹çš„å½±å“

**éš¾åº¦**ï¼šâ­â­â­â­

---

### æŒ‘æˆ˜ç»ƒä¹ ï¼ˆ1-2é¢˜ï¼‰âš ï¸ã€å¿…é¡»è‡³å°‘1é¢˜ã€‘

#### ç»ƒä¹ 1ï¼šå®æ—¶å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿ
**ç›®æ ‡**ï¼šæ„å»ºå®æ—¶å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿ

**è¦æ±‚**ï¼š
1. å®ç°å¢é‡å­¦ä¹ 
2. å¤„ç†æµå¼æ•°æ®
3. å®æ—¶æ›´æ–°æ¨¡å‹
4. è¯„ä¼°å®æ—¶æ€§èƒ½
5. ä¼˜åŒ–è®¡ç®—æ•ˆç‡

**éš¾åº¦**ï¼šâ­â­â­â­â­

---

## 6. å®é™…æ¡ˆä¾‹

### æ¡ˆä¾‹1ï¼šä¿¡ç”¨å¡æ¬ºè¯ˆæ£€æµ‹ï¼ˆç®€å•é¡¹ç›®ï¼‰

**ä¸šåŠ¡èƒŒæ™¯**ï¼šæ£€æµ‹ä¿¡ç”¨å¡äº¤æ˜“ä¸­çš„æ¬ºè¯ˆè¡Œä¸ºã€‚

**ç«¯åˆ°ç«¯å®ç°**ï¼š
```python
from sklearn.ensemble import IsolationForest
from sklearn.preprocessing import StandardScaler
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# åŠ è½½æ•°æ®
data = pd.read_csv('credit_card_transactions.csv')
features = ['amount', 'time', 'v1', 'v2', ..., 'v28']  # ç‰¹å¾åˆ—è¡¨

# æ•°æ®é¢„å¤„ç†
scaler = StandardScaler()
X_scaled = scaler.fit_transform(data[features])

# å¼‚å¸¸æ£€æµ‹
iso_forest = IsolationForest(contamination=0.01, random_state=42)
anomalies = iso_forest.fit_predict(X_scaled) == -1

# åˆ†æç»“æœ
print(f"æ£€æµ‹åˆ° {np.sum(anomalies)} ä¸ªå¼‚å¸¸äº¤æ˜“")
print(f"å¼‚å¸¸æ¯”ä¾‹: {np.sum(anomalies) / len(anomalies):.2%}")

# å¯è§†åŒ–
plt.figure(figsize=(12, 5))
plt.subplot(1, 2, 1)
plt.scatter(data['amount'], data['time'], c=anomalies, cmap='RdYlGn')
plt.xlabel('äº¤æ˜“é‡‘é¢')
plt.ylabel('äº¤æ˜“æ—¶é—´')
plt.title('å¼‚å¸¸äº¤æ˜“æ£€æµ‹ç»“æœ')
plt.colorbar()
```

---

### æ¡ˆä¾‹2ï¼šç½‘ç»œå…¥ä¾µæ£€æµ‹ï¼ˆä¸­ç­‰é¡¹ç›®ï¼‰

**ä¸šåŠ¡èƒŒæ™¯**ï¼šæ£€æµ‹ç½‘ç»œæµé‡ä¸­çš„å…¥ä¾µè¡Œä¸ºã€‚

**ç«¯åˆ°ç«¯å®ç°**ï¼š
```python
from sklearn.ensemble import IsolationForest
from sklearn.neighbors import LocalOutlierFactor
from sklearn.decomposition import PCA
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

# åŠ è½½æ•°æ®
data = pd.read_csv('network_traffic.csv')
X = data.drop('label', axis=1)
y = data['label']  # ç”¨äºè¯„ä¼°

# æ–¹æ³•1ï¼šIsolation Forest
iso_forest = IsolationForest(contamination=0.1, random_state=42)
anomalies_iso = iso_forest.fit_predict(X) == -1

# æ–¹æ³•2ï¼šLOF
lof = LocalOutlierFactor(n_neighbors=20, contamination=0.1)
anomalies_lof = lof.fit_predict(X) == -1

# è¯„ä¼°
from sklearn.metrics import classification_report, confusion_matrix

print("Isolation Forest:")
print(classification_report(y, anomalies_iso, target_names=['æ­£å¸¸', 'å¼‚å¸¸']))

print("\nLOF:")
print(classification_report(y, anomalies_lof, target_names=['æ­£å¸¸', 'å¼‚å¸¸']))
```

---

### æ¡ˆä¾‹3ï¼šå·¥ä¸šè®¾å¤‡æ•…éšœæ£€æµ‹ï¼ˆè¿›é˜¶é¡¹ç›®ï¼‰

**ä¸šåŠ¡èƒŒæ™¯**ï¼šæ£€æµ‹å·¥ä¸šè®¾å¤‡çš„å¼‚å¸¸çŠ¶æ€ï¼Œé¢„é˜²æ•…éšœã€‚

**ç«¯åˆ°ç«¯å®ç°**ï¼š
```python
from sklearn.ensemble import IsolationForest
from sklearn.preprocessing import StandardScaler
from sklearn.decomposition import PCA
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
from datetime import datetime

# åŠ è½½ä¼ æ„Ÿå™¨æ•°æ®
data = pd.read_csv('sensor_data.csv')
data['timestamp'] = pd.to_datetime(data['timestamp'])

# ç‰¹å¾å·¥ç¨‹
features = ['temperature', 'pressure', 'vibration', 'current']
X = data[features]

# æ•°æ®é¢„å¤„ç†
scaler = StandardScaler()
X_scaled = scaler.fit_transform(X)

# å¼‚å¸¸æ£€æµ‹
iso_forest = IsolationForest(contamination=0.05, random_state=42)
anomalies = iso_forest.fit_predict(X_scaled) == -1

# æ—¶é—´åºåˆ—å¯è§†åŒ–
fig, axes = plt.subplots(len(features), 1, figsize=(15, 12))
for i, feature in enumerate(features):
    axes[i].plot(data['timestamp'], data[feature], alpha=0.5, label='æ­£å¸¸')
    axes[i].scatter(data[data[anomalies]['timestamp'], 
                     data[data[anomalies][feature], 
                     c='red', label='å¼‚å¸¸', s=50)
    axes[i].set_ylabel(feature)
    axes[i].legend()
    axes[i].grid(True)

plt.xlabel('æ—¶é—´')
plt.tight_layout()
plt.show()

# åˆ†æå¼‚å¸¸æ¨¡å¼
anomaly_data = data[anomalies]
print(f"æ£€æµ‹åˆ° {len(anomaly_data)} ä¸ªå¼‚å¸¸æ—¶é—´ç‚¹")
print("\nå¼‚å¸¸ç‰¹å¾ç»Ÿè®¡:")
print(anomaly_data[features].describe())
```

---

## 7. è‡ªæˆ‘è¯„ä¼°

### æ¦‚å¿µé¢˜

#### é€‰æ‹©é¢˜ï¼ˆ10-15é“ï¼‰

1. å¼‚å¸¸æ£€æµ‹çš„ä¸»è¦ç›®çš„æ˜¯ï¼Ÿ
   A. åˆ†ç±»  B. å›å½’  C. è¯†åˆ«å¼‚å¸¸ç‚¹  D. èšç±»
   **ç­”æ¡ˆ**ï¼šC

2. åŸºäºç»Ÿè®¡çš„å¼‚å¸¸æ£€æµ‹å‡è®¾æ•°æ®æœä»ï¼Ÿ
   A. å‡åŒ€åˆ†å¸ƒ  B. æ­£æ€åˆ†å¸ƒ  C. æŒ‡æ•°åˆ†å¸ƒ  D. ä»»æ„åˆ†å¸ƒ
   **ç­”æ¡ˆ**ï¼šB

3. Isolation Forestçš„ä¸»è¦æ€æƒ³æ˜¯ï¼Ÿ
   A. åŸºäºå¯†åº¦  B. åŸºäºè·ç¦»  C. åŸºäºéš”ç¦»  D. åŸºäºç»Ÿè®¡
   **ç­”æ¡ˆ**ï¼šC

4. LOFï¼ˆLocal Outlier Factorï¼‰æ˜¯åŸºäºï¼Ÿ
   A. å…¨å±€å¯†åº¦  B. å±€éƒ¨å¯†åº¦  C. è·ç¦»  D. ç»Ÿè®¡
   **ç­”æ¡ˆ**ï¼šB

5. å¼‚å¸¸æ£€æµ‹çš„è¯„ä¼°æŒ‡æ ‡é€šå¸¸ä¸åŒ…æ‹¬ï¼Ÿ
   A. ç²¾ç¡®ç‡  B. å¬å›ç‡  C. F1åˆ†æ•°  D. å‡†ç¡®ç‡
   **ç­”æ¡ˆ**ï¼šD

#### ç®€ç­”é¢˜ï¼ˆ5-8é“ï¼‰

1. è§£é‡Šå¼‚å¸¸æ£€æµ‹çš„åŸºæœ¬æ¦‚å¿µå’Œåº”ç”¨åœºæ™¯ã€‚
   **å‚è€ƒç­”æ¡ˆ**ï¼šå¼‚å¸¸æ£€æµ‹æ˜¯è¯†åˆ«ä¸å¤§å¤šæ•°æ•°æ®æ˜¾è‘—ä¸åŒçš„æ•°æ®ç‚¹ï¼Œåº”ç”¨äºæ¬ºè¯ˆæ£€æµ‹ã€å…¥ä¾µæ£€æµ‹ã€è´¨é‡æ§åˆ¶ç­‰ã€‚

2. è¯´æ˜Z-scoreå’ŒIQRæ–¹æ³•çš„åŸç†ã€‚
   **å‚è€ƒç­”æ¡ˆ**ï¼š
   - Z-scoreï¼šå‡è®¾æ­£æ€åˆ†å¸ƒï¼Œè®¡ç®—æ ‡å‡†åŒ–åˆ†æ•°ï¼Œè¶…å‡ºé˜ˆå€¼ï¼ˆå¦‚3ï¼‰ä¸ºå¼‚å¸¸
   - IQRï¼šä½¿ç”¨å››åˆ†ä½è·ï¼Œè¶…å‡º[Qâ‚-1.5Ã—IQR, Qâ‚ƒ+1.5Ã—IQR]ä¸ºå¼‚å¸¸

3. æ¯”è¾ƒIsolation Forestå’ŒDBSCANçš„ä¼˜ç¼ºç‚¹ã€‚
   **å‚è€ƒç­”æ¡ˆ**ï¼š
   - Isolation Forestï¼šé€‚åˆé«˜ç»´æ•°æ®ï¼Œè®¡ç®—å¿«ï¼Œä½†éš¾ä»¥è§£é‡Š
   - DBSCANï¼šèƒ½å‘ç°ä»»æ„å½¢çŠ¶ï¼Œä½†éœ€è¦è°ƒå‚ï¼Œè®¡ç®—å¤æ‚åº¦é«˜

---

### ç¼–ç¨‹å®è·µé¢˜ï¼ˆ2-3é“ï¼‰

#### é¢˜ç›®1ï¼šå®ç°å¤šç§å¼‚å¸¸æ£€æµ‹æ–¹æ³•
**è¦æ±‚**ï¼š
1. å®ç°Z-scoreã€IQRæ–¹æ³•
2. ä½¿ç”¨Isolation Forestã€LOF
3. åœ¨ç›¸åŒæ•°æ®é›†ä¸Šæµ‹è¯•
4. æ¯”è¾ƒæ€§èƒ½

**è¯„åˆ†æ ‡å‡†**ï¼š
- æ­£ç¡®å®ç°æ–¹æ³•ï¼ˆ40åˆ†ï¼‰
- æµ‹è¯•ç»“æœæ­£ç¡®ï¼ˆ20åˆ†ï¼‰
- æ€§èƒ½æ¯”è¾ƒæ·±å…¥ï¼ˆ20åˆ†ï¼‰
- ä»£ç è´¨é‡ï¼ˆ20åˆ†ï¼‰

---

### ç»¼åˆåº”ç”¨é¢˜ï¼ˆ1-2é“ï¼‰

#### é¢˜ç›®1ï¼šæ„å»ºå®Œæ•´çš„å¼‚å¸¸æ£€æµ‹ç³»ç»Ÿ
**è¦æ±‚**ï¼š
1. åŠ è½½çœŸå®æ•°æ®é›†
2. æ•°æ®é¢„å¤„ç†
3. å®ç°å¤šç§å¼‚å¸¸æ£€æµ‹æ–¹æ³•
4. è¯„ä¼°å’Œæ¯”è¾ƒæ€§èƒ½
5. å¯è§†åŒ–ç»“æœ
6. æå‡ºæ”¹è¿›å»ºè®®

**è¯„åˆ†æ ‡å‡†**ï¼š
- æ•°æ®å¤„ç†æ­£ç¡®ï¼ˆ25åˆ†ï¼‰
- æ–¹æ³•å®ç°æ­£ç¡®ï¼ˆ25åˆ†ï¼‰
- è¯„ä¼°æ·±å…¥ï¼ˆ25åˆ†ï¼‰
- å»ºè®®æœ‰ä»·å€¼ï¼ˆ25åˆ†ï¼‰

---

## 8. æ‹“å±•å­¦ä¹ 

### è®ºæ–‡æ¨è

1. **Liu, F. T., et al. (2008). "Isolation forest."** ICDM'08
   - Isolation ForeståŸå§‹è®ºæ–‡

2. **Breunig, M. M., et al. (2000). "LOF: identifying density-based local outliers."** SIGMOD'00
   - LOFç®—æ³•è®ºæ–‡

### ä¹¦ç±æ¨è

1. **ã€Šå¼‚å¸¸æ£€æµ‹ï¼šåŸç†ä¸å®è·µã€‹**
   - å…¨é¢ä»‹ç»å¼‚å¸¸æ£€æµ‹æ–¹æ³•

### ç›¸å…³å·¥å…·ä¸åº“

1. **scikit-learn**
   - Isolation Forestã€LOFã€One-Class SVM
   - æ–‡æ¡£ï¼šhttps://scikit-learn.org/stable/modules/outlier_detection.html

2. **PyOD**
   - å¼‚å¸¸æ£€æµ‹å·¥å…·åŒ…
   - GitHub: https://github.com/yzhao062/pyod

### è¿›é˜¶è¯é¢˜æŒ‡å¼•

1. **æ·±åº¦å¼‚å¸¸æ£€æµ‹**
   - Autoencoder
   - Variational Autoencoder
   - GAN-basedå¼‚å¸¸æ£€æµ‹

2. **æ—¶é—´åºåˆ—å¼‚å¸¸æ£€æµ‹**
   - LSTM-based
   - Prophet
   - ARIMA

3. **å¤šå˜é‡å¼‚å¸¸æ£€æµ‹**
   - ç›¸å…³æ€§åˆ†æ
   - åæ–¹å·®çŸ©é˜µ
   - å¤šå…ƒç»Ÿè®¡

### ä¸‹èŠ‚è¯¾é¢„å‘Šä¸å­¦ä¹ å»ºè®®

**ä¸‹èŠ‚è¯¾**ï¼š`07_é™ç»´æŠ€æœ¯`

**å­¦ä¹ å»ºè®®**ï¼š
1. å®Œæˆæ‰€æœ‰ç»ƒä¹ é¢˜
2. ç†è§£ä¸åŒæ–¹æ³•çš„é€‚ç”¨åœºæ™¯
3. æŒæ¡æ€§èƒ½è¯„ä¼°æ–¹æ³•
4. äº†è§£å¼‚å¸¸æ£€æµ‹çš„å±€é™æ€§

**å‰ç½®å‡†å¤‡**ï¼š
- å¤ä¹ PCAå’Œt-SNE
- äº†è§£é™ç»´æŠ€æœ¯çš„ç»¼åˆåº”ç”¨
- å‡†å¤‡æ•°æ®é›†è¿›è¡Œå®è·µ

---

**å®Œæˆæœ¬è¯¾ç¨‹åï¼Œä½ å°†èƒ½å¤Ÿï¼š**
- âœ… ç†è§£å’Œä½¿ç”¨å¤šç§å¼‚å¸¸æ£€æµ‹æ–¹æ³•
- âœ… é€‰æ‹©åˆé€‚çš„å¼‚å¸¸æ£€æµ‹ç®—æ³•
- âœ… è¯„ä¼°å¼‚å¸¸æ£€æµ‹æ€§èƒ½
- âœ… åº”ç”¨å¼‚å¸¸æ£€æµ‹è§£å†³å®é™…é—®é¢˜

**ç»§ç»­å­¦ä¹ ï¼Œæˆä¸ºAIå¤§å¸ˆï¼** ğŸš€


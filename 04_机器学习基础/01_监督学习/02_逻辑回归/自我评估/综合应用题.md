# 逻辑回归 - 综合应用题

## 题目1：构建完整的客户流失预测系统（50分）

### 项目背景

某公司希望预测哪些客户可能会流失，以便采取挽留措施。你需要构建一个完整的客户流失预测系统。

### 项目要求

#### 1. 数据探索（10分）

1. **数据加载**
   - 加载客户数据（可以使用公开数据集或生成模拟数据）
   - 数据基本信息（形状、类型、缺失值）

2. **探索性数据分析（EDA）**
   - 描述性统计
   - 特征分布可视化
   - 类别分布分析（流失率）
   - 特征相关性分析

#### 2. 数据预处理（10分）

1. **缺失值处理**
   - 识别缺失值
   - 选择处理策略（删除、填充、插值）
   - 实现缺失值处理

2. **特征编码**
   - 处理类别特征（One-Hot编码、标签编码）
   - 处理数值特征（标准化、归一化）

3. **特征选择**
   - 使用相关性分析
   - 使用统计检验
   - 选择重要特征

#### 3. 特征工程（10分）

1. **创建新特征**
   - 特征组合（如年龄×收入）
   - 特征变换（如对数变换）
   - 业务特征（如客户价值、使用频率）

2. **特征缩放**
   - 标准化或归一化
   - 确保特征在同一量级

#### 4. 模型训练与优化（10分）

1. **基础模型**
   - 使用逻辑回归训练基础模型
   - 评估初始性能

2. **超参数调优**
   - 使用网格搜索或随机搜索
   - 优化正则化参数C
   - 优化正则化类型（L1/L2）

3. **处理类别不平衡**
   - 使用SMOTE过采样
   - 或使用类别权重
   - 比较不同方法

4. **交叉验证**
   - 使用K折交叉验证评估模型
   - 分析不同折的性能差异

#### 5. 模型评估（10分）

1. **性能指标**
   - 准确率、精确率、召回率、F1分数
   - ROC曲线和AUC
   - PR曲线（Precision-Recall曲线）
   - 混淆矩阵

2. **可视化**
   - 绘制ROC曲线
   - 绘制PR曲线
   - 绘制混淆矩阵热力图
   - 绘制特征重要性

3. **结果分析**
   - 分析模型在哪些类别上表现好/差
   - 分析误分类的原因
   - 识别最重要的特征

#### 6. 业务建议（额外加分，5分）

1. **模型解释**
   - 解释哪些因素最影响客户流失
   - 分析特征对流失概率的影响

2. **业务建议**
   - 基于模型结果提出挽留策略
   - 识别高风险客户群体
   - 提出改进建议

### 代码要求

- 完整的端到端流程
- 模块化设计（函数/类）
- 详细的注释和文档
- 错误处理
- 结果可视化

### 评分标准

- **完整性**（30分）：包含所有步骤
- **代码质量**（10分）：代码结构清晰，模块化
- **模型性能**（10分）：模型性能良好（AUC > 0.75）
- **分析深度**（10分）：结果分析深入
- **业务建议**（5分，额外）：业务建议有价值

### 提交要求

- 代码文件：`综合题1_答案.py` 或项目文件夹
- 包含完整的代码和可视化
- 包含详细的分析报告（Markdown或PDF）
- 包含README说明文件

---

## 题目2：多分类问题与模型解释（50分）

### 项目背景

使用逻辑回归解决多分类问题（如手写数字识别、疾病分类等），并进行模型解释。

### 项目要求

#### 1. 数据准备（8分）

1. **数据加载**
   - 加载多分类数据集（如Iris、Digits、Wine等）
   - 数据探索和分析

2. **数据预处理**
   - 数据标准化
   - 特征选择（可选）

#### 2. 多分类实现（12分）

1. **方法1：Softmax回归**
   - 使用`multi_class='multinomial'`
   - 训练模型
   - 评估性能

2. **方法2：One-vs-Rest**
   - 使用`multi_class='ovr'`
   - 训练模型
   - 评估性能

3. **方法对比**
   - 比较两种方法的准确率
   - 比较两种方法的训练时间
   - 分析各方法的优缺点

#### 3. 模型评估（10分）

1. **性能指标**
   - 每个类别的精确率、召回率、F1分数
   - 总体准确率
   - 混淆矩阵

2. **可视化**
   - 绘制混淆矩阵热力图
   - 可视化每个类别的分类效果
   - 识别容易混淆的类别对

#### 4. 模型解释（15分）

1. **特征重要性**
   - 分析每个类别的特征重要性
   - 可视化特征系数
   - 解释哪些特征最重要

2. **决策边界分析**
   - 如果是2D特征，可视化决策边界
   - 如果是高维特征，使用PCA降维后可视化
   - 分析决策规则

3. **概率分析**
   - 分析预测概率的分布
   - 识别高置信度和低置信度的预测
   - 分析不确定性

#### 5. 错误分析（5分）

1. **误分类分析**
   - 分析哪些类别容易混淆
   - 分析误分类的原因
   - 提出改进建议

### 代码要求

- 实现两种多分类方法
- 完整的评估和可视化
- 深入的模型解释
- 清晰的代码结构

### 评分标准

- **正确性**（20分）：正确实现多分类
- **对比分析**（10分）：深入对比两种方法
- **模型解释**（15分）：模型解释深入
- **代码质量**（5分）：代码清晰，结构合理

### 提交要求

- 代码文件：`综合题2_答案.py` 或项目文件夹
- 包含完整的代码和可视化
- 包含详细的分析报告
- 包含模型解释说明

---

## 总体要求

1. **项目完整性**
   - 端到端的完整流程
   - 所有步骤都有实现
   - 结果可复现

2. **代码质量**
   - 代码清晰，有注释
   - 函数模块化
   - 错误处理
   - 可读性强

3. **分析深度**
   - 深入分析结果
   - 提出有价值的见解
   - 有改进建议

4. **文档**
   - 完整的README
   - 代码注释
   - 结果说明

---

## 评分汇总

- **题目1**：50分（+5分额外加分）
- **题目2**：50分
- **总分**：100分（+5分额外加分）
- **及格线**：80分

---

## 提交格式

每个题目提交一个文件夹，包含：
- `main.py` 或 `solution.py` - 主程序
- `README.md` - 项目说明
- `requirements.txt` - 依赖（如果有）
- `results/` - 结果文件（图片、报告等）
- 其他必要的文件

---

**完成后，请将所有答案放在 `答案/` 文件夹中。**

